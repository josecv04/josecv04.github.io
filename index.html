<!DOCTYPE html>
<html lang="en" data-theme="light" data-cursor="pro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jose Castillo — Bioengineering × Electrical Engineering × Robotics</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@300;400;500&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
<style>
/* ============================================================
   THEME VARIABLES
   ============================================================ */
:root,
[data-theme="light"] {
  --bg:      #f7f5f0;
  --bg2:     #f0ede6;
  --bg3:     #e8e3da;
  --surface: #ffffff;
  --border:  rgba(20, 60, 110, 0.12);
  --accent:  #0069c4;
  --accent2: #0284c7;
  --accent3: #6d28d9;
  --text:    #0d1a2e;
  --text-muted: #3d5166;
  --text-dim:   #7a8fa6;
  --green:   #059669;
  --amber:   #d97706;
  --red:     #dc2626;
  --glow:    rgba(0,105,196,0.12);
  --shadow:  rgba(13,26,46,0.10);
  --nav-bg:  rgba(247,245,240,0.88);
  --card-bg: #ffffff;
  --noise-opacity: 0.018;
  --orb-opacity: 0.08;
  --img-bg: #eae8e3;
}

[data-theme="dark"] {
  --bg:      #080c10;
  --bg2:     #0d1117;
  --bg3:     #111827;
  --surface: #161d2b;
  --border:  rgba(99,179,237,0.15);
  --accent:  #38bdf8;
  --accent2: #22d3ee;
  --accent3: #a78bfa;
  --text:    #e2e8f0;
  --text-muted: #8899aa;
  --text-dim:   #4a5568;
  --green:   #34d399;
  --amber:   #fbbf24;
  --red:     #f87171;
  --glow:    rgba(56,189,248,0.18);
  --shadow:  rgba(0,0,0,0.4);
  --nav-bg:  rgba(8,12,16,0.85);
  --card-bg: #161d2b;
  --noise-opacity: 0.04;
  --orb-opacity: 0.12;
  --img-bg: #1a2233;
}

/* ============================================================
   RESET & BASE
   ============================================================ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: 'DM Serif Display', Georgia, serif;
  overflow-x: hidden;
  transition: background 0.4s ease, color 0.4s ease;
  cursor: none;
}

/* ============================================================
   CURSOR 1 — PROFESSIONAL
   ============================================================ */
#cursor-pro {
  position: fixed;
  pointer-events: none;
  z-index: 99999;
  top: 0; left: 0;
  transform: translate(-50%, -50%);
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: var(--accent);
  transition:
    width  0.18s ease,
    height 0.18s ease,
    background 0.3s ease,
    opacity 0.2s ease;
  will-change: transform;
  display: none;
}

body.cursor-hover #cursor-pro {
  width: 11px;
  height: 11px;
  background: var(--accent2);
}

/* ============================================================
   CURSOR 2 — PCB VIA
   ============================================================ */
#cursor-pcb {
  position: fixed;
  pointer-events: none;
  z-index: 99999;
  top: 0; left: 0;
  width: 48px;
  height: 48px;
  transform: translate(-50%, -50%);
  display: none;
  will-change: transform;
}

#cursor-pcb svg {
  width: 100%;
  height: 100%;
  overflow: visible;
  transition: opacity 0.2s;
}

body.cursor-hover #cursor-pcb { width: 58px; height: 58px; }

/* ============================================================
   CURSOR TOGGLE BUTTON
   ============================================================ */
.cursor-toggle {
  position: fixed;
  bottom: 84px;
  right: 24px;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.cursor-btn {
  width: 40px;
  height: 40px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: none;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.58rem;
  letter-spacing: 0.05em;
  transition: all 0.2s;
  position: relative;
  box-shadow: 0 2px 8px var(--shadow);
}
.cursor-btn.active {
  border-color: var(--accent);
  color: var(--accent);
  background: rgba(56,189,246,0.08);
}
.cursor-btn:hover { border-color: var(--accent); color: var(--accent); }
.cursor-btn .tooltip {
  position: absolute;
  right: 48px;
  white-space: nowrap;
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 4px 10px;
  font-size: 0.6rem;
  color: var(--text-dim);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s;
}
.cursor-btn:hover .tooltip { opacity: 1; }

/* ============================================================
   THEME TOGGLE
   ============================================================ */
.theme-toggle-wrap {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 1000;
}
.theme-toggle {
  width: 40px;
  height: 40px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: none;
  transition: all 0.25s;
  font-size: 1rem;
  position: relative;
  box-shadow: 0 2px 12px var(--shadow);
}
.theme-toggle:hover { border-color: var(--accent); color: var(--accent); }
.theme-toggle .tooltip {
  position: absolute;
  right: 48px;
  white-space: nowrap;
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 4px 10px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.6rem;
  color: var(--text-dim);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s;
}
.theme-toggle:hover .tooltip { opacity: 1; }

#theme-ripple {
  position: fixed;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  transform: scale(0);
  transform-origin: center;
}

/* ============================================================
   SCROLLBAR
   ============================================================ */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 2px; }

/* ============================================================
   NOISE OVERLAY
   ============================================================ */
body::before {
  content: '';
  position: fixed; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.025'/%3E%3C/svg%3E");
  pointer-events: none; z-index: 1;
  opacity: var(--noise-opacity);
  transition: opacity 0.4s;
}

/* ============================================================
   NAV
   ============================================================ */
nav {
  position: fixed; top: 0; left: 0; right: 0;
  z-index: 100;
  display: flex; align-items: center; justify-content: space-between;
  padding: 20px 60px;
  background: var(--nav-bg);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
  transition: padding 0.3s, background 0.4s, border-color 0.4s;
}
nav.scrolled { padding: 14px 60px; }
.nav-logo {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.85rem;
  color: var(--accent);
  letter-spacing: 0.08em;
  text-decoration: none;
  transition: color 0.3s;
}
.nav-links {
  display: flex; gap: 36px;
  list-style: none;
}
.nav-links a {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem;
  color: var(--text-muted);
  text-decoration: none;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  transition: color 0.2s;
  position: relative;
}
.nav-links a::after {
  content: '';
  position: absolute; bottom: -4px; left: 0;
  width: 0; height: 1px;
  background: var(--accent);
  transition: width 0.3s;
}
.nav-links a:hover { color: var(--accent); }
.nav-links a:hover::after { width: 100%; }
.nav-cta {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem;
  padding: 8px 20px;
  border: 1px solid var(--accent);
  color: var(--accent);
  text-decoration: none;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  transition: all 0.25s;
}
.nav-cta:hover {
  background: var(--accent);
  color: var(--bg);
}

/* ============================================================
   HERO
   ============================================================ */
#hero {
  min-height: 100vh;
  display: flex; flex-direction: column;
  justify-content: center;
  padding: 120px 60px 80px;
  position: relative;
  overflow: hidden;
}
.hero-grid-bg {
  position: absolute; inset: 0;
  background-image:
    linear-gradient(var(--border) 1px, transparent 1px),
    linear-gradient(90deg, var(--border) 1px, transparent 1px);
  background-size: 60px 60px;
  opacity: 0.6;
  mask-image: radial-gradient(ellipse 80% 80% at 50% 50%, black 30%, transparent 100%);
  transition: opacity 0.4s;
}
.hero-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(100px);
  opacity: var(--orb-opacity);
  animation: pulse-orb 10s ease-in-out infinite alternate;
  transition: opacity 0.4s;
}
.hero-orb-1 {
  width: 500px; height: 500px;
  background: radial-gradient(circle, var(--accent), transparent 70%);
  top: -100px; right: -100px;
}
.hero-orb-2 {
  width: 400px; height: 400px;
  background: radial-gradient(circle, var(--accent3), transparent 70%);
  bottom: 0; left: -80px;
  animation-delay: 3s;
}
@keyframes pulse-orb {
  0%   { transform: scale(1); }
  100% { transform: scale(1.08); }
}

.hero-tag {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem;
  color: var(--accent);
  letter-spacing: 0.2em;
  text-transform: uppercase;
  margin-bottom: 28px;
  opacity: 0;
  animation: fadeUp 0.8s 0.2s forwards;
}
.hero-tag span { color: var(--text-dim); margin: 0 12px; }

.hero-name {
  font-family: 'Syne', sans-serif;
  font-size: clamp(3.5rem, 8vw, 7.5rem);
  font-weight: 800;
  line-height: 0.95;
  letter-spacing: -0.03em;
  margin-bottom: 28px;
  opacity: 0;
  animation: fadeUp 0.8s 0.4s forwards;
}
.hero-name .line1 { display: block; }
.hero-name .line2 {
  display: block;
  -webkit-text-stroke: 1.5px var(--text-muted);
  color: transparent;
}
.hero-name .accent-dot {
  color: var(--accent);
  -webkit-text-stroke: 0;
}

.hero-tagline {
  font-family: 'DM Serif Display', serif;
  font-size: clamp(1.1rem, 2vw, 1.5rem);
  color: var(--text-muted);
  max-width: 640px;
  line-height: 1.6;
  margin-bottom: 48px;
  font-style: italic;
  opacity: 0;
  animation: fadeUp 0.8s 0.6s forwards;
}

.hero-disciplines {
  display: flex; flex-wrap: wrap; gap: 12px;
  margin-bottom: 52px;
  opacity: 0;
  animation: fadeUp 0.8s 0.8s forwards;
}
.discipline-pill {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  padding: 7px 16px;
  border: 1px solid var(--border);
  color: var(--text-muted);
  letter-spacing: 0.08em;
  background: rgba(255,255,255,0.02);
  transition: all 0.3s;
  cursor: none;
}
[data-theme="light"] .discipline-pill { background: rgba(0,0,0,0.02); }
.discipline-pill:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: rgba(0,105,196,0.06);
}
.discipline-pill.active {
  border-color: var(--accent);
  color: var(--accent);
  background: rgba(0,105,196,0.1);
}
[data-theme="dark"] .discipline-pill:hover,
[data-theme="dark"] .discipline-pill.active {
  background: rgba(56,189,248,0.08);
}

.hero-actions {
  display: flex; gap: 16px; flex-wrap: wrap;
  opacity: 0;
  animation: fadeUp 0.8s 1s forwards;
}
.btn {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.75rem;
  padding: 14px 30px;
  text-decoration: none;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  transition: all 0.25s;
  display: inline-flex; align-items: center; gap: 10px;
  cursor: none;
  border: none;
  background: none;
  font-family: 'JetBrains Mono', monospace;
}
.btn-primary {
  background: var(--accent);
  color: #fff;
}
[data-theme="light"] .btn-primary { color: #fff; }
.btn-primary:hover {
  background: var(--accent2);
  transform: translateY(-2px);
  box-shadow: 0 8px 30px var(--glow);
}
.btn-secondary {
  border: 1px solid var(--border);
  color: var(--text-muted);
}
.btn-secondary:hover {
  border-color: var(--accent);
  color: var(--accent);
  transform: translateY(-2px);
}

.hero-stats {
  position: absolute;
  right: 60px; bottom: 60px;
  display: flex; flex-direction: column; gap: 28px;
  opacity: 0;
  animation: fadeIn 1s 1.4s forwards;
}
.hero-stat { text-align: right; }
.hero-stat .number {
  font-family: 'Syne', sans-serif;
  font-size: 2rem;
  font-weight: 700;
  color: var(--accent);
  display: block;
}
.hero-stat .label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--text-dim);
  letter-spacing: 0.15em;
  text-transform: uppercase;
}
.hero-stat-line {
  width: 1px; height: 40px;
  background: linear-gradient(to bottom, transparent, var(--border));
  margin: 0 auto;
}

.scroll-indicator {
  position: absolute;
  bottom: 40px; left: 60px;
  display: flex; align-items: center; gap: 12px;
  opacity: 0;
  animation: fadeIn 1s 1.6s forwards;
}
.scroll-line {
  width: 40px; height: 1px;
  background: var(--text-dim);
  position: relative;
  overflow: hidden;
}
.scroll-line::after {
  content: '';
  position: absolute; top: 0; left: -100%;
  width: 100%; height: 100%;
  background: var(--accent);
  animation: scan-line 2.5s linear infinite;
}
@keyframes scan-line { to { left: 200%; } }
.scroll-text {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--text-dim);
  letter-spacing: 0.2em;
  text-transform: uppercase;
}

/* ============================================================
   SECTIONS
   ============================================================ */
section {
  padding: 120px 60px;
  position: relative;
  transition: background 0.4s;
}
.section-header { margin-bottom: 80px; }
.section-eyebrow {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.68rem;
  color: var(--accent);
  letter-spacing: 0.25em;
  text-transform: uppercase;
  margin-bottom: 16px;
  display: flex; align-items: center; gap: 12px;
}
.section-eyebrow::before {
  content: '';
  width: 30px; height: 1px;
  background: var(--accent);
}
.section-title {
  font-family: 'Syne', sans-serif;
  font-size: clamp(2rem, 4vw, 3.5rem);
  font-weight: 700;
  line-height: 1.1;
  letter-spacing: -0.02em;
}
.section-title .muted { color: var(--text-muted); }

/* ============================================================
   ABOUT
   ============================================================ */
#about { background: var(--bg2); }
.about-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 80px;
  align-items: start;
}
.about-text p {
  font-size: 1.15rem;
  line-height: 1.8;
  color: var(--text-muted);
  margin-bottom: 24px;
}
.about-text p strong { color: var(--text); font-weight: 400; font-style: italic; }
.about-text p .hl { color: var(--accent); }

.about-photo-block { position: relative; }
.photo-frame {
  position: relative;
  width: 100%;
  max-width: 420px;
  margin: 0 auto;
}
.photo-frame::before {
  content: '';
  position: absolute;
  top: -12px; left: -12px;
  right: 12px; bottom: 12px;
  border: 1px solid var(--accent);
  opacity: 0.35;
  z-index: 0;
}
.photo-actual-wrap {
  width: 100%;
  aspect-ratio: 4/5;
  border: 1px solid var(--border);
  position: relative; z-index: 1;
  overflow: hidden;
}
/* About photo — intentional portrait crop, keep cover */
.photo-actual-wrap img {
  width: 100%; height: 100%;
  object-fit: cover;
  object-position: center top;
  display: block;
  image-rendering: high-quality;
  -webkit-backface-visibility: hidden;
}
.photo-tag {
  position: absolute;
  bottom: -20px; right: -20px;
  background: var(--accent);
  color: #fff;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  padding: 8px 14px;
  letter-spacing: 0.1em;
  z-index: 2;
}
.about-markers {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 20px; margin-top: 48px;
}
.marker {
  padding: 20px;
  border: 1px solid var(--border);
  background: var(--surface);
  transition: all 0.3s;
  box-shadow: 0 1px 4px var(--shadow);
}
.marker:hover {
  border-color: var(--accent);
  background: var(--surface);
  transform: translateY(-3px);
  box-shadow: 0 8px 24px var(--shadow);
}
.marker-value {
  font-family: 'Syne', sans-serif;
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--accent);
  display: block;
}
.marker-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--text-dim);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin-top: 4px;
  display: block;
}

/* ============================================================
   PUBLICATIONS
   ============================================================ */
#publications { background: var(--bg); }
.pub-card {
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 48px;
  position: relative;
  overflow: hidden;
  transition: all 0.3s;
  box-shadow: 0 2px 12px var(--shadow);
}
.pub-card::before {
  content: '';
  position: absolute; top: 0; left: 0;
  width: 4px; height: 100%;
  background: linear-gradient(to bottom, var(--accent), var(--accent3));
}
.pub-card:hover {
  border-color: rgba(0,105,196,0.3);
  transform: translateY(-4px);
  box-shadow: 0 20px 60px var(--shadow);
}
[data-theme="dark"] .pub-card:hover { border-color: rgba(99,179,237,0.3); }
.pub-badge {
  display: inline-flex; align-items: center; gap: 8px;
  background: rgba(0,105,196,0.08);
  border: 1px solid rgba(0,105,196,0.25);
  padding: 5px 14px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--accent);
  letter-spacing: 0.1em;
  margin-bottom: 24px;
}
[data-theme="dark"] .pub-badge {
  background: rgba(56,189,248,0.1);
  border-color: rgba(56,189,248,0.3);
}
.pub-badge::before {
  content: '';
  width: 6px; height: 6px;
  background: var(--accent);
  border-radius: 50%;
}
.pub-title {
  font-size: 1.35rem;
  line-height: 1.4;
  color: var(--text);
  margin-bottom: 16px;
}
.pub-journal {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem;
  color: var(--accent);
  letter-spacing: 0.08em;
  margin-bottom: 20px;
}
.pub-authors {
  font-size: 0.85rem;
  color: var(--text-dim);
  line-height: 1.6;
  margin-bottom: 24px;
}
.pub-authors strong { color: var(--text-muted); }
.pub-contribution {
  padding: 16px 20px;
  background: rgba(0,105,196,0.05);
  border-left: 2px solid var(--accent);
  font-size: 0.9rem;
  color: var(--text-muted);
  line-height: 1.6;
}
[data-theme="dark"] .pub-contribution { background: rgba(56,189,248,0.05); }
.pub-link {
  display: inline-flex; align-items: center; gap: 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  color: var(--accent);
  text-decoration: none;
  letter-spacing: 0.1em;
  margin-top: 24px;
  transition: gap 0.2s;
  cursor: none;
}
.pub-link:hover { gap: 14px; }

/* ============================================================
   RESEARCH
   ============================================================ */
#research { background: var(--bg2); }
.research-grid {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 2px;
}
.research-item {
  background: var(--surface);
  padding: 48px 40px;
  border: 1px solid var(--border);
  position: relative;
  overflow: hidden;
  transition: all 0.3s;
  cursor: none;
  box-shadow: 0 1px 4px var(--shadow);
}
.research-item::after {
  content: '';
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(to right, var(--accent), transparent);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.4s;
}
.research-item:hover { background: rgba(0,105,196,0.02); }
[data-theme="dark"] .research-item:hover { background: rgba(56,189,248,0.03); }
.research-item:hover::after { transform: scaleX(1); }
.research-number {
  font-family: 'Syne', sans-serif;
  font-size: 3.5rem;
  font-weight: 800;
  color: var(--border);
  line-height: 1;
  margin-bottom: 20px;
  transition: color 0.3s;
}
.research-item:hover .research-number { color: rgba(0,105,196,0.15); }
[data-theme="dark"] .research-item:hover .research-number { color: rgba(56,189,248,0.2); }
.research-org {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--accent);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  margin-bottom: 12px;
}
.research-title {
  font-size: 1.25rem;
  color: var(--text);
  margin-bottom: 8px;
  line-height: 1.3;
}
.research-pi {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.68rem;
  color: var(--text-dim);
  margin-bottom: 20px;
}
.research-bullets { list-style: none; padding: 0; }
.research-bullets li {
  font-size: 0.88rem;
  color: var(--text-muted);
  padding: 6px 0;
  padding-left: 16px;
  position: relative;
  line-height: 1.6;
}
.research-bullets li::before {
  content: '—';
  position: absolute; left: 0;
  color: var(--accent);
  font-weight: 300;
}
.research-period {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--text-dim);
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--border);
}

/* ============================================================
   PROJECTS
   ============================================================ */
#projects { background: var(--bg); }
.projects-tabs {
  display: flex; gap: 0;
  margin-bottom: 60px;
  border-bottom: 1px solid var(--border);
}
.tab-btn {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  padding: 14px 24px;
  background: none;
  border: none;
  color: var(--text-dim);
  cursor: none;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  transition: all 0.2s;
  border-bottom: 2px solid transparent;
  margin-bottom: -1px;
}
.tab-btn.active {
  color: var(--accent);
  border-bottom-color: var(--accent);
}
.tab-btn:hover:not(.active) { color: var(--text-muted); }

.project-panel { display: none; }
.project-panel.active {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}
.project-panel.active .project-highlight { grid-column: span 3; }

.project-card {
  background: var(--surface);
  border: 1px solid var(--border);
  overflow: hidden;
  transition: all 0.35s;
  display: flex; flex-direction: column;
  box-shadow: 0 1px 6px var(--shadow);
}
.project-card:hover {
  border-color: rgba(0,105,196,0.4);
  transform: translateY(-6px);
  box-shadow: 0 24px 60px var(--shadow);
}
[data-theme="dark"] .project-card:hover { border-color: rgba(99,179,237,0.4); }

/* ============================================================
   TASK 1 FIX — PROJECT IMAGE DISPLAY (no cropping, full image shown)
   ============================================================ */
.project-image {
  width: 100%;
  aspect-ratio: 16/9;
  background: var(--img-bg);
  position: relative;
  overflow: hidden;
}

/* Single images: contain so the full image is always visible, no cropping */
.project-image img.single-img {
  width: 100%;
  height: 100%;
  object-fit: contain;        /* ← CHANGED from cover; shows full image */
  object-position: center;
  display: block;
  /* High-quality image rendering */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  image-rendering: high-quality;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  /* Subtle padding so image doesn't touch edges */
  padding: 6px;
  box-sizing: border-box;
  transition: transform 0.5s;
}

/* Hover zoom still works nicely with contain */
.project-card:hover .project-image img.single-img {
  transform: scale(1.04);
}

/* Overlay is lighter since background shows around contained image */
.project-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(8,12,16,0.45) 0%, transparent 50%);
  pointer-events: none;
}
[data-theme="light"] .project-overlay {
  background: linear-gradient(to top, rgba(13,26,46,0.35) 0%, transparent 50%);
}

.project-cats {
  position: absolute; top: 12px; left: 12px;
  display: flex; gap: 6px; flex-wrap: wrap;
  pointer-events: none;
  z-index: 2;
}
.project-cat {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.58rem;
  padding: 3px 10px;
  background: rgba(8,12,16,0.75);
  border: 1px solid rgba(255,255,255,0.15);
  color: #e2e8f0;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}
.project-body { padding: 28px; flex: 1; display: flex; flex-direction: column; }
.project-title {
  font-family: 'Syne', sans-serif;
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 12px;
  line-height: 1.3;
}
.project-desc {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.75rem;
  color: var(--text-muted);
  line-height: 1.7;
  flex: 1;
}
.project-tech {
  display: flex; flex-wrap: wrap; gap: 6px;
  margin-top: 20px;
}
.tech-tag {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.6rem;
  padding: 4px 10px;
  background: rgba(0,105,196,0.07);
  border: 1px solid rgba(0,105,196,0.2);
  color: var(--accent);
  letter-spacing: 0.06em;
}
[data-theme="dark"] .tech-tag {
  background: rgba(56,189,248,0.08);
  border-color: rgba(56,189,248,0.2);
}
.project-highlight {
  grid-column: span 3;
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  min-height: 340px;
}
.project-highlight .project-image { aspect-ratio: auto; min-height: 340px; }
.project-highlight .project-body { padding: 40px; }
.project-highlight .project-title { font-size: 1.4rem; }
.project-highlight .project-desc { font-size: 0.82rem; }

/* ============================================================
   IMAGE SLIDESHOW — contain fix applied here too
   ============================================================ */
.img-slideshow {
  position: relative;
}
.img-slideshow .slide {
  position: absolute;
  inset: 0;
  width: 100%; height: 100%;
  object-fit: contain;         /* ← CHANGED from cover; no cropping */
  object-position: center;
  padding: 6px;
  box-sizing: border-box;
  opacity: 0;
  transition: opacity 0.85s ease;
  pointer-events: none;
  display: block;
  /* High-quality rendering */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: high-quality;
  -webkit-backface-visibility: hidden;
}
.img-slideshow .slide.active {
  opacity: 1;
}
.img-slideshow .slide.active {
  animation: slide-zoom 8s ease-in-out forwards;
}
@keyframes slide-zoom {
  from { transform: scale(1); }
  to   { transform: scale(1.03); }
}
.slide-ui {
  position: absolute;
  bottom: 12px;
  right: 12px;
  z-index: 10;
  display: flex;
  align-items: center;
  gap: 8px;
  opacity: 0;
  transition: opacity 0.25s;
}
.img-slideshow:hover .slide-ui { opacity: 1; }
.slide-pause {
  width: 28px; height: 28px;
  border: 1px solid rgba(255,255,255,0.55);
  background: rgba(8,12,16,0.60);
  color: #fff;
  display: flex; align-items: center; justify-content: center;
  font-size: 0.65rem;
  cursor: none;
  border-radius: 2px;
  transition: background 0.2s, border-color 0.2s;
  backdrop-filter: blur(6px);
  line-height: 1;
  padding: 0;
}
.slide-pause:hover {
  background: var(--accent);
  border-color: var(--accent);
}
.slide-dots {
  display: flex; gap: 5px; align-items: center;
}
.slide-dot {
  width: 5px; height: 5px;
  border-radius: 50%;
  background: rgba(255,255,255,0.35);
  border: 1px solid rgba(255,255,255,0.65);
  transition: background 0.25s, transform 0.25s;
  cursor: none;
}
.slide-dot.active {
  background: #ffffff;
  transform: scale(1.3);
}
.slide-counter {
  position: absolute;
  top: 12px; right: 12px;
  z-index: 10;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.58rem;
  color: rgba(255,255,255,0.85);
  background: rgba(8,12,16,0.60);
  border: 1px solid rgba(255,255,255,0.2);
  padding: 3px 9px;
  letter-spacing: 0.1em;
  backdrop-filter: blur(6px);
  pointer-events: none;
}

/* ============================================================
   SKILLS
   ============================================================ */
#skills { background: var(--bg2); }
.skills-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
}
.skill-domain { margin-bottom: 48px; }
.skill-domain-title {
  font-family: 'Syne', sans-serif;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin-bottom: 24px;
  display: flex; align-items: center; gap: 12px;
}
.skill-domain-title::after {
  content: '';
  flex: 1; height: 1px;
  background: var(--border);
}
.skill-bar-group { display: flex; flex-direction: column; gap: 14px; }
.skill-bar-meta {
  display: flex; justify-content: space-between;
  align-items: center; margin-bottom: 6px;
}
.skill-bar-name {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  color: var(--text-muted);
  letter-spacing: 0.06em;
}
.skill-bar-level {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.6rem;
  color: var(--text-dim);
}
.skill-bar-track {
  height: 3px;
  background: var(--border);
  position: relative;
  overflow: hidden;
}
.skill-bar-fill {
  height: 100%;
  background: linear-gradient(to right, var(--accent), var(--accent2));
  width: 0;
  transition: width 1.2s cubic-bezier(0.16, 1, 0.3, 1);
}
.skill-bar-fill.accent3 {
  background: linear-gradient(to right, var(--accent3), var(--accent));
}
.tech-cloud { display: flex; flex-wrap: wrap; gap: 10px; }
.tech-chip {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.67rem;
  padding: 8px 16px;
  border: 1px solid var(--border);
  color: var(--text-muted);
  background: var(--surface);
  transition: all 0.25s;
  cursor: none;
  letter-spacing: 0.04em;
}
.tech-chip:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: rgba(0,105,196,0.05);
  transform: translateY(-2px);
}
[data-theme="dark"] .tech-chip:hover { background: rgba(56,189,248,0.06); }
.tech-chip.hardware { border-color: rgba(109,40,217,0.2); }
.tech-chip.hardware:hover { border-color: var(--accent3); color: var(--accent3); background: rgba(109,40,217,0.05); }

/* ============================================================
   EXPERIENCE
   ============================================================ */
#experience { background: var(--bg); }
.timeline {
  position: relative;
  padding-left: 40px;
}
.timeline::before {
  content: '';
  position: absolute; left: 0; top: 8px; bottom: 8px;
  width: 1px;
  background: linear-gradient(to bottom, var(--accent), transparent);
}
.timeline-item {
  position: relative;
  margin-bottom: 60px;
  opacity: 0;
  transform: translateX(-20px);
  transition: all 0.6s;
}
.timeline-item.visible { opacity: 1; transform: translateX(0); }
.timeline-dot {
  position: absolute; left: -44px; top: 6px;
  width: 10px; height: 10px;
  background: var(--accent);
  border: 2px solid var(--bg);
  border-radius: 50%;
  box-shadow: 0 0 10px var(--accent);
}
.timeline-meta {
  display: flex; align-items: center; gap: 16px;
  margin-bottom: 12px;
}
.timeline-period {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--accent);
  letter-spacing: 0.1em;
}
.timeline-type {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.6rem;
  padding: 3px 10px;
  border: 1px solid var(--border);
  color: var(--text-dim);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}
.timeline-role {
  font-family: 'Syne', sans-serif;
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 4px;
  line-height: 1.3;
}
.timeline-org {
  font-size: 0.9rem;
  color: var(--text-muted);
  font-style: italic;
  margin-bottom: 20px;
}
.timeline-bullets { list-style: none; padding: 0; }
.timeline-bullets li {
  font-size: 0.88rem;
  color: var(--text-muted);
  padding: 6px 0;
  padding-left: 16px;
  position: relative;
  line-height: 1.6;
}
.timeline-bullets li::before {
  content: '→';
  position: absolute; left: 0;
  color: var(--accent);
}

/* ============================================================
   EDUCATION
   ============================================================ */
#education { background: var(--bg2); }
.edu-cards {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 24px;
}
.edu-card {
  padding: 40px;
  background: var(--surface);
  border: 1px solid var(--border);
  position: relative;
  overflow: hidden;
  transition: all 0.3s;
  box-shadow: 0 1px 6px var(--shadow);
}
.edu-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(to right, var(--accent), transparent);
}
.edu-card:hover {
  border-color: rgba(0,105,196,0.3);
  transform: translateY(-4px);
  box-shadow: 0 20px 60px var(--shadow);
}
[data-theme="dark"] .edu-card:hover { border-color: rgba(99,179,237,0.3); }
.edu-degree {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--accent);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  margin-bottom: 12px;
}
.edu-title {
  font-family: 'Syne', sans-serif;
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 8px;
  line-height: 1.3;
}
.edu-school {
  font-size: 0.9rem;
  color: var(--text-muted);
  font-style: italic;
  margin-bottom: 24px;
}
.edu-details { display: flex; flex-direction: column; gap: 10px; }
.edu-detail {
  display: flex; align-items: center; gap: 12px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.68rem;
  color: var(--text-muted);
}
.edu-detail .edu-key {
  color: var(--text-dim);
  min-width: 60px;
  letter-spacing: 0.06em;
}

/* ============================================================
   CONTACT — TASK 2 FIXES
   ============================================================ */
#contact { background: var(--bg); }
.contact-layout {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 80px; align-items: start;
}
.contact-big {
  font-family: 'Syne', sans-serif;
  font-size: clamp(2rem, 4vw, 3.5rem);
  font-weight: 800;
  letter-spacing: -0.02em;
  line-height: 1.1;
  margin-bottom: 32px;
}
.contact-big .hl { color: var(--accent); }
.contact-desc {
  font-size: 1rem;
  color: var(--text-muted);
  line-height: 1.8;
  margin-bottom: 40px;
}
.contact-links { display: flex; flex-direction: column; gap: 16px; }
.contact-link {
  display: flex; align-items: center; gap: 16px;
  text-decoration: none;
  padding: 20px 24px;
  border: 1px solid var(--border);
  background: var(--surface);
  transition: all 0.3s;
  box-shadow: 0 1px 4px var(--shadow);
  cursor: none;
}
.contact-link:hover {
  border-color: var(--accent);
  background: rgba(0,105,196,0.03);
  transform: translateX(6px);
  box-shadow: 0 4px 16px var(--shadow);
}
[data-theme="dark"] .contact-link:hover { background: rgba(56,189,248,0.04); }
.contact-link-icon {
  width: 36px; height: 36px;
  display: flex; align-items: center; justify-content: center;
  border: 1px solid var(--border);
  color: var(--accent);
  flex-shrink: 0;
  transition: all 0.3s;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.75rem;
}
.contact-link:hover .contact-link-icon {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}
.contact-link-meta { flex: 1; }
.contact-link-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--text-dim);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  display: block;
  margin-bottom: 4px;
}
.contact-link-value {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.8rem;
  color: var(--text-muted);
  transition: color 0.2s;
}
.contact-link:hover .contact-link-value { color: var(--text); }
.contact-link-arrow { color: var(--text-dim); font-size: 0.85rem; transition: all 0.3s; }
.contact-link:hover .contact-link-arrow { color: var(--accent); transform: translateX(4px); }

/* Form title */
.contact-form-title {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text-dim);
  margin-bottom: 28px;
}
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.form-group { margin-bottom: 16px; }
.form-group label {
  display: block;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.63rem;
  color: var(--text-dim);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin-bottom: 8px;
}
.form-group input,
.form-group textarea {
  width: 100%;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.8rem;
  padding: 12px 16px;
  outline: none;
  transition: border-color 0.2s, background 0.4s;
  resize: none;
  appearance: none;
}
.form-group input:focus,
.form-group textarea:focus { border-color: var(--accent); }
.form-group input::placeholder,
.form-group textarea::placeholder { color: var(--text-dim); }

/* Form submit button — proper <button> styling */
.btn-submit {
  width: 100%;
  justify-content: center;
  position: relative;
  overflow: hidden;
  border: none;
}
.btn-submit:disabled {
  opacity: 0.65;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}
.btn-submit .btn-spinner {
  display: none;
  width: 14px; height: 14px;
  border: 2px solid rgba(255,255,255,0.4);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
}
.btn-submit.loading .btn-spinner { display: block; }
.btn-submit.loading .btn-label { display: none; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Form status messages */
.form-status {
  display: none;
  padding: 16px 20px;
  margin-top: 16px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.75rem;
  letter-spacing: 0.06em;
  line-height: 1.5;
  border: 1px solid;
}
.form-status.success {
  display: block;
  background: rgba(5,150,105,0.07);
  border-color: rgba(5,150,105,0.35);
  color: var(--green);
}
.form-status.error {
  display: block;
  background: rgba(220,38,38,0.07);
  border-color: rgba(220,38,38,0.35);
  color: var(--red);
}

/* ============================================================
   FOOTER
   ============================================================ */
footer {
  padding: 40px 60px;
  background: var(--bg);
  border-top: 1px solid var(--border);
  display: flex; align-items: center; justify-content: space-between;
  transition: background 0.4s, border-color 0.4s;
}
.footer-logo {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.75rem;
  color: var(--text-dim);
}
.footer-copy {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--text-dim);
  letter-spacing: 0.08em;
}

/* ============================================================
   ANIMATIONS & REVEAL
   ============================================================ */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(30px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}
.reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.7s cubic-bezier(0.16, 1, 0.3, 1);
}
.reveal.visible { opacity: 1; transform: translateY(0); }
.reveal-delay-1 { transition-delay: 0.1s; }
.reveal-delay-2 { transition-delay: 0.2s; }
.reveal-delay-3 { transition-delay: 0.3s; }
.reveal-delay-4 { transition-delay: 0.4s; }

.typed-text::after {
  content: '|';
  color: var(--accent);
  animation: blink-cursor 0.9s infinite;
}
@keyframes blink-cursor {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0; }
}

/* ============================================================
   MOBILE
   ============================================================ */
@media (max-width: 900px) {
  nav { padding: 16px 24px; }
  section { padding: 80px 24px; }
  #hero { padding: 100px 24px 80px; }
  .hero-stats { display: none; }
  .scroll-indicator { left: 24px; }
  .about-grid, .research-grid, .contact-layout,
  .edu-cards, .skills-layout { grid-template-columns: 1fr; }
  .project-panel.active { grid-template-columns: 1fr; }
  .project-highlight,
  .project-panel.active .project-highlight { grid-column: span 1; grid-template-columns: 1fr; }
  .project-highlight .project-image { min-height: 200px; aspect-ratio: 16/9; }
  .nav-links { display: none; }
  .form-row { grid-template-columns: 1fr; }
  footer { flex-direction: column; gap: 12px; text-align: center; }
  #cursor-pro, #cursor-pcb, .cursor-toggle { display: none !important; }
  body { cursor: auto; }
  a, button, .tab-btn, .discipline-pill,
  .theme-toggle, .cursor-btn,
  .contact-link, .pub-link, .nav-cta,
  .btn { cursor: auto; }
  .slide-pause { cursor: pointer; }
  .slide-dot   { cursor: pointer; }
  .slide-ui    { opacity: 1; }
}

/* All interactive elements use none cursor (overridden to auto on mobile) */
a, button, .tab-btn, .discipline-pill,
.theme-toggle, .cursor-btn,
.contact-link, .pub-link, .nav-cta,
.btn { cursor: none; }
</style>
</head>
<body>

<!-- CURSOR 1 — PROFESSIONAL -->
<div id="cursor-pro" aria-hidden="true"></div>

<!-- CURSOR 2 — PCB VIA -->
<div id="cursor-pcb" aria-hidden="true">
  <svg viewBox="-24 -24 48 48" xmlns="http://www.w3.org/2000/svg" id="pcb-svg">
    <circle cx="0" cy="0" r="18" stroke="currentColor" stroke-width="1" fill="none" opacity="0.35"/>
    <line x1="0" y1="-18" x2="0" y2="-22" stroke="currentColor" stroke-width="1.5" stroke-linecap="square"/>
    <line x1="18" y1="0" x2="22" y2="0" stroke="currentColor" stroke-width="1.5" stroke-linecap="square"/>
    <line x1="0" y1="18" x2="0" y2="22" stroke="currentColor" stroke-width="1.5" stroke-linecap="square"/>
    <line x1="-18" y1="0" x2="-22" y2="0" stroke="currentColor" stroke-width="1.5" stroke-linecap="square"/>
    <rect x="-2.5" y="-24" width="5" height="3.5" rx="0.5" fill="currentColor" opacity="0.7"/>
    <rect x="21"   y="-2.5" width="3.5" height="5" rx="0.5" fill="currentColor" opacity="0.7"/>
    <rect x="-2.5" y="20.5" width="5" height="3.5" rx="0.5" fill="currentColor" opacity="0.7"/>
    <rect x="-24.5" y="-2.5" width="3.5" height="5" rx="0.5" fill="currentColor" opacity="0.7"/>
    <circle cx="0" cy="0" r="9" stroke="currentColor" stroke-width="2" fill="none" opacity="0.9"/>
    <circle cx="0" cy="0" r="3" fill="currentColor" opacity="1"/>
    <line x1="6.4" y1="-6.4" x2="12" y2="-12" stroke="currentColor" stroke-width="0.8" stroke-linecap="round" opacity="0.5"/>
    <line x1="6.4" y1="6.4" x2="12" y2="12" stroke="currentColor" stroke-width="0.8" stroke-linecap="round" opacity="0.5"/>
    <line x1="-6.4" y1="6.4" x2="-12" y2="12" stroke="currentColor" stroke-width="0.8" stroke-linecap="round" opacity="0.5"/>
    <line x1="-6.4" y1="-6.4" x2="-12" y2="-12" stroke="currentColor" stroke-width="0.8" stroke-linecap="round" opacity="0.5"/>
  </svg>
</div>

<!-- CURSOR TOGGLE -->
<div class="cursor-toggle" role="group" aria-label="Cursor style">
  <button class="cursor-btn active" id="btn-cursor-pro" aria-pressed="true">
    <span class="tooltip">Professional cursor</span>
    ✦
  </button>
  <button class="cursor-btn" id="btn-cursor-pcb" aria-pressed="false">
    <span class="tooltip">PCB cursor</span>
    ⬡
  </button>
</div>

<!-- THEME TOGGLE -->
<div class="theme-toggle-wrap">
  <button class="theme-toggle" id="theme-toggle" aria-label="Toggle color mode">
    <span class="tooltip">Toggle dark mode</span>
    <span id="theme-icon">☽</span>
  </button>
</div>

<!-- Ripple overlay for theme transition -->
<div id="theme-ripple"></div>

<!-- NAV -->
<nav id="navbar">
  <a href="#hero" class="nav-logo">Jose Castillo</a>
  <ul class="nav-links">
    <li><a href="#about">About</a></li>
    <li><a href="#publications">Publications</a></li>
    <li><a href="#research">Research</a></li>
    <li><a href="#projects">Projects</a></li>
    <li><a href="#skills">Skills</a></li>
    <li><a href="#experience">Experience</a></li>
    <li><a href="#education">Education</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
  <a href="resume.pdf" class="nav-cta" target="_blank">Resume ↗</a>
</nav>

<!-- HERO -->
<section id="hero">
  <div class="hero-grid-bg"></div>
  <div class="hero-orb hero-orb-1"></div>
  <div class="hero-orb hero-orb-2"></div>

  <div class="hero-tag">
    UC San Diego <span>/</span> Jacobs School of Engineering <span>/</span>
    <span id="typed-role" class="typed-text">Bioengineer</span>
  </div>

  <h1 class="hero-name">
    <span class="line1">Jose</span>
    <span class="line1">Castillo</span>
  </h1>

  <p class="hero-tagline">
    Building the instruments that define tomorrow — from ACS-published microneedle biosensors
    to autonomous vehicles and modular EEG headsets. Engineering across every layer of the stack.
  </p>

  <div class="hero-disciplines">
    <div class="discipline-pill active">Biomedical Systems</div>
    <div class="discipline-pill">Electrical Engineering</div>
    <div class="discipline-pill">Robotics &amp; Autonomy</div>
    <div class="discipline-pill">Signal Processing</div>
    <div class="discipline-pill">PCB &amp; Analog Design</div>
    <div class="discipline-pill">Machine Learning</div>
  </div>

  <div class="hero-actions">
    <a href="#projects" class="btn btn-primary">View Projects ↓</a>
    <a href="#publications" class="btn btn-secondary">ACS Publication ↗</a>
    <a href="resume.pdf" class="btn btn-secondary" target="_blank">Resume PDF ↗</a>
  </div>

  <div class="hero-stats">
    <div class="hero-stat">
      <span class="number">3.9</span>
      <span class="label">Major GPA</span>
    </div>
    <div class="hero-stat-line"></div>
    <div class="hero-stat">
      <span class="number">8</span>
      <span class="label">Provost Honors Qtrs</span>
    </div>
    <div class="hero-stat-line"></div>
    <div class="hero-stat">
      <span class="number">1</span>
      <span class="label">ACS Sensors Pub.</span>
    </div>
    <div class="hero-stat-line"></div>
    <div class="hero-stat">
      <span class="number">50+</span>
      <span class="label">Students TA'd</span>
    </div>
  </div>

  <div class="scroll-indicator">
    <div class="scroll-line"></div>
    <span class="scroll-text">Scroll to explore</span>
  </div>
</section>

<!-- ABOUT -->
<section id="about">
  <div class="section-header reveal">
    <div class="section-eyebrow">01 / About</div>
    <h2 class="section-title">Where hardware <span class="muted">meets</span><br>computation.</h2>
  </div>
  <div class="about-grid">
    <div class="about-text reveal">
      <p>
        I'm a <strong>cross-disciplinary engineer</strong> completing my B.S. in Bioengineering at
        UC San Diego (Jacobs School) — already admitted to the M.S. in Electrical Engineering for
        Fall 2026. My edge lies in building systems that operate
        <span class="hl">at the intersection of biology, circuits, and code.</span>
      </p>
      <p>
        I fabricate microneedle biosensors in a nanobioelectronics research lab, design PCBs for
        EEG headsets in Altium, write ROS2 navigation stacks for autonomous vehicles, and then
        <strong>teach 60+ students those same skills</strong> as a TA — all concurrently.
      </p>
      <p>
        My defining strength is <span class="hl">end-to-end ownership</span>: I command the full
        stack from schematic → PCB → embedded firmware → signal-processing pipeline →
        experimental validation. I don't hand off — I debug across every layer until the
        system performs.
      </p>
      <div class="about-markers">
        <div class="marker reveal reveal-delay-1">
          <span class="marker-value">3.9</span>
          <span class="marker-label">Major GPA</span>
        </div>
        <div class="marker reveal reveal-delay-2">
          <span class="marker-value">8×</span>
          <span class="marker-label">Provost Honors</span>
        </div>
        <div class="marker reveal reveal-delay-3">
          <span class="marker-value">ACS</span>
          <span class="marker-label">Peer-reviewed pub.</span>
        </div>
        <div class="marker reveal reveal-delay-4">
          <span class="marker-value">MS</span>
          <span class="marker-label">EE, Fall 2026</span>
        </div>
      </div>
    </div>
    <div class="about-photo-block reveal reveal-delay-2">
      <div class="photo-frame">
        <div class="photo-actual-wrap">
          <img src="images/profile.png" alt="Jose Castillo">
        </div>
        <div class="photo-tag">UCSD · Jacobs Engineering</div>
      </div>
    </div>
  </div>
</section>

<!-- PUBLICATIONS -->
<section id="publications">
  <div class="section-header reveal">
    <div class="section-eyebrow">02 / Publications</div>
    <h2 class="section-title">Peer-reviewed <span class="muted">research</span><br>in clinical biosensors.</h2>
  </div>
  <div class="pub-card reveal">
    <div class="pub-badge">ACS Sensors · 2026 · Published</div>
    <div class="pub-title">
      Clinical Evaluation of Microneedle Biosensors for Continuous Lactate Monitoring in Critically Ill Patients
    </div>
    <div class="pub-journal">ACS Sensors, 2026, 11 (2), 1413–1424 · DOI: 10.1021/acssensors.5c03699</div>
    <div class="pub-authors">
      Djassemi, O.; Chang, A.-Y.; McGuire, W. C.; Mitchell, E.; Saha, T.; Fernandes, T.; Yang, J.;
      Miller, M.; Wurster, C.; Morales-Fermin, S.; McGregor, I.;
      <strong>Castillo-Valdovinos, J.</strong>; Malhotra, A.; Wang, J.
    </div>
    <div class="pub-contribution">
      <strong style="color:var(--accent);font-style:normal;font-family:'JetBrains Mono',monospace;font-size:0.65rem;letter-spacing:0.1em;text-transform:uppercase;">Contribution</strong><br><br>
      Fabricated microneedle array devices used in clinical experiments. Produced the supplementary
      figure and fabrication workflow video documenting the full device preparation protocol.
      Work conducted under PI Dr. Joseph Wang at the NanoBioElectronic Lab, UC San Diego.
    </div>
    <a href="https://doi.org/10.1021/acssensors.5c03699" class="pub-link" target="_blank">
      View on ACS Publications →
    </a>
  </div>
</section>

<!-- RESEARCH -->
<section id="research">
  <div class="section-header reveal">
    <div class="section-eyebrow">03 / Research</div>
    <h2 class="section-title">Lab work that <span class="muted">ships</span><br>to clinical trials.</h2>
  </div>
  <div class="research-grid">
    <div class="research-item reveal">
      <div class="research-number">01</div>
      <div class="research-org">NBE Lab · UC San Diego</div>
      <div class="research-title">Research Assistant — NanoBioElectronic Lab</div>
      <div class="research-pi">PI: Dr. Joseph Wang · PhD Mentor: Omeed Djassemi</div>
      <ul class="research-bullets">
        <li>Microfabrication and iterative optimization of microneedle arrays for continuous monitoring of glucose, lactate, and cortisol</li>
        <li>Electrochemical sensor integration with biocompatible substrates; low-noise skin–sensor interface design</li>
        <li>Square-wave voltammetry and amperometric detection; Python Bluetooth integration with the NBE coinboard</li>
        <li>Hydrogel electrode formulations (PEDOT:PSS–PVA) and breadboard validation for LegoEEG</li>
        <li>Thin-film sputtering via Denton Discovery 365; potentiostat operations</li>
      </ul>
      <div class="research-period">May 2025 – Present</div>
    </div>

    <div class="research-item reveal reveal-delay-1">
      <div class="research-number">02</div>
      <div class="research-org">NBE Lab · UC San Diego</div>
      <div class="research-title">ECG &amp; PPG Signal Analysis for Biomedical Pattern Recognition</div>
      <div class="research-pi">NanoBioElectronic Laboratory</div>
      <ul class="research-bullets">
        <li>Integrated acquisition system: Arduino Mega + AD8232 + MAX30101 for simultaneous ECG &amp; PPG recording</li>
        <li>Advanced DSP in MATLAB: Butterworth filtering, Savitzky–Golay smoothing, baseline correction</li>
        <li>Time-domain synchronization analysis identifying cardiac–peripheral perfusion correlations with diagnostic potential</li>
      </ul>
      <div class="research-period">Jun 2025 – Sept 2025</div>
    </div>

    <div class="research-item reveal" style="grid-column: span 2;">
      <div class="research-number">03</div>
      <div class="research-org">Capstone Project · UC San Diego</div>
      <div class="research-title">"LegoEEG" — Modular EEG Headset System</div>
      <div class="research-pi">Electrical Lead · Cross-disciplinary Capstone</div>
      <ul class="research-bullets" style="column-count:2;gap:20px;">
        <li>Co-designing a modular EEG headset with interchangeable PEDOT:PSS–PVA hydrogel electrodes</li>
        <li>Custom low-noise amplifier &amp; control PCBs designed in Altium Designer</li>
        <li>Leading the electrical subsystem; coordinating with the biomaterials subgroup on the electrode–amplifier interface</li>
        <li>Iterative electrode–skin impedance characterization and EEG signal quality testing</li>
        <li>Breadboard-level prototyping to validate dry electrode performance prior to PCB integration</li>
      </ul>
      <div class="research-period">Jun 2025 – Present</div>
    </div>
  </div>
</section>

<!-- PROJECTS -->
<section id="projects">
  <div class="section-header reveal">
    <div class="section-eyebrow">04 / Projects</div>
    <h2 class="section-title">Built end-to-end,<br><span class="muted">debugged everywhere.</span></h2>
  </div>

  <div class="projects-tabs">
    <button class="tab-btn active" data-tab="all">All</button>
    <button class="tab-btn" data-tab="biomedical">Biomedical</button>
    <button class="tab-btn" data-tab="robotics">Robotics</button>
    <button class="tab-btn" data-tab="hardware">Hardware</button>
    <button class="tab-btn" data-tab="ml">ML &amp; Data</button>
  </div>

  <!-- ═══════════════ ALL TAB ═══════════════ -->
  <div class="project-panel active" id="panel-all">

    <!-- LegoEEG — HIGHLIGHT (single image) -->
    <div class="project-card project-highlight" data-cats="biomedical hardware">
      <div class="project-image">
        <img src="images/legoeeg.png" alt="LegoEEG Modular EEG Headset" class="single-img">
        <div class="project-overlay"></div>
        <div class="project-cats">
          <span class="project-cat">PCB Design</span>
          <span class="project-cat">Biomedical</span>
          <span class="project-cat">Active</span>
        </div>
      </div>
      <div class="project-body">
        <div class="project-title">"LegoEEG" Modular EEG Headset</div>
        <div class="project-desc">
          Co-designing a modular EEG headset featuring interchangeable PEDOT:PSS–PVA hydrogel
          electrodes and custom low-noise amplifier and control PCBs in Altium. Leading the
          electrical subsystem end-to-end: schematic → layout → impedance characterization →
          signal validation. Coordinating with the biomaterials subgroup to align electrode
          chemistry with amplifier interface specifications.
        </div>
        <div class="project-tech">
          <span class="tech-tag">Altium Designer</span>
          <span class="tech-tag">Analog Front-End</span>
          <span class="tech-tag">PEDOT:PSS–PVA</span>
          <span class="tech-tag">Impedance Analysis</span>
          <span class="tech-tag">PCB Layout</span>
        </div>
      </div>
    </div>

    <!-- Autonomous Vehicle (single image) -->
    <div class="project-card" data-cats="robotics">
      <div class="project-image">
        <img src="images/autonomous-vehicle.png" alt="Autonomous Vehicle ROS2" class="single-img">
        <div class="project-overlay"></div>
        <div class="project-cats">
          <span class="project-cat">Robotics</span>
          <span class="project-cat">ROS2</span>
        </div>
      </div>
      <div class="project-body">
        <div class="project-title">Autonomous Vehicle — Jetson Nano + ROS2 + ML</div>
        <div class="project-desc">
          Fully autonomous scale vehicle with a 3D-printed chassis, Jetson Nano compute,
          OpenCV visual perception, and ML-driven control in ROS2. Implemented real-time
          navigation and obstacle avoidance; currently TA-ing this exact course for 60+ students.
        </div>
        <div class="project-tech">
          <span class="tech-tag">ROS2</span>
          <span class="tech-tag">Jetson Nano</span>
          <span class="tech-tag">OpenCV</span>
          <span class="tech-tag">Python</span>
          <span class="tech-tag">Embedded Linux</span>
        </div>
      </div>
    </div>

    <!-- EMG Hand — SLIDESHOW (3 images) -->
    <div class="project-card" data-cats="biomedical hardware">
      <div class="project-image img-slideshow" data-slideshow>
        <img src="images/emghand_3dmodel.png"                     alt="EMG Hand 3D Model"          class="slide active">
        <img src="images/emghand_actualemghand+circuit.png"        alt="EMG Hand with Circuit"      class="slide">
        <img src="images/emghand_circuit.png"                      alt="EMG Signal Circuit"         class="slide">
        <div class="slide-counter">1 / 3</div>
        <div class="slide-ui">
          <button class="slide-pause" aria-label="Pause slideshow">⏸</button>
          <div class="slide-dots">
            <span class="slide-dot active"></span>
            <span class="slide-dot"></span>
            <span class="slide-dot"></span>
          </div>
        </div>
        <div class="project-overlay"></div>
        <div class="project-cats">
          <span class="project-cat">Hardware</span>
          <span class="project-cat">Biomedical</span>
        </div>
      </div>
      <div class="project-body">
        <div class="project-title">EMG-Controlled Prosthetic Hand</div>
        <div class="project-desc">
          3D-printed prosthetic hand actuated by servo motors under real-time EMG control.
          Designed a full analog signal chain (DC offset removal, AD622/LM741 instrumentation
          amplifiers, HP/LP filters) and Arduino firmware mapping EMG features to distinct
          grasp patterns.
        </div>
        <div class="project-tech">
          <span class="tech-tag">EMG Signal Processing</span>
          <span class="tech-tag">AD622 InAmp</span>
          <span class="tech-tag">Arduino</span>
          <span class="tech-tag">3D Printing</span>
        </div>
      </div>
    </div>

    <!-- ECG+PPG (single image) -->
    <div class="project-card" data-cats="biomedical hardware">
      <div class="project-image">
        <img src="images/ecg-ppg.png" alt="ECG PPG Multi-Signal Acquisition" class="single-img">
        <div class="project-overlay"></div>
        <div class="project-cats">
          <span class="project-cat">DSP</span>
          <span class="project-cat">Biomedical</span>
        </div>
      </div>
      <div class="project-body">
        <div class="project-title">ECG + PPG Multi-Signal Acquisition System</div>
        <div class="project-desc">
          Simultaneous ECG &amp; PPG recording system using Arduino Mega, AD8232, and MAX30101.
          MATLAB DSP pipeline featuring Butterworth filtering, Savitzky–Golay smoothing, and
          time-domain synchronization analysis linking cardiac and peripheral perfusion signals.
        </div>
        <div class="project-tech">
          <span class="tech-tag">AD8232</span>
          <span class="tech-tag">MAX30101</span>
          <span class="tech-tag">MATLAB DSP</span>
          <span class="tech-tag">Butterworth</span>
          <span class="tech-tag">Arduino Mega</span>
        </div>
      </div>
    </div>

    <!-- ML Cancer — SLIDESHOW (4 images) -->
    <div class="project-card" data-cats="ml">
      <div class="project-image img-slideshow" data-slideshow>
        <img src="images/mlproject_accruacyvsnumberofPCAcomponents_trainingset.png" alt="ML Accuracy vs PCA Components"            class="slide active">
        <img src="images/mlproject_kmeansclusterfortestingset.png"                  alt="K-Means Cluster Testing Set"              class="slide">
        <img src="images/mlproject_principalcomponent1vs2.png"                     alt="Principal Component 1 vs 2"               class="slide">
        <img src="images/mlproject_varianceexplainedvsprincipalcomponents.png"     alt="Variance Explained vs Principal Components" class="slide">
        <div class="slide-counter">1 / 4</div>
        <div class="slide-ui">
          <button class="slide-pause" aria-label="Pause slideshow">⏸</button>
          <div class="slide-dots">
            <span class="slide-dot active"></span>
            <span class="slide-dot"></span>
            <span class="slide-dot"></span>
            <span class="slide-dot"></span>
          </div>
        </div>
        <div class="project-overlay"></div>
        <div class="project-cats">
          <span class="project-cat">ML</span>
          <span class="project-cat">Healthcare</span>
        </div>
      </div>
      <div class="project-body">
        <div class="project-title">Breast Cancer Diagnostics — ML Classification</div>
        <div class="project-desc">
          Logistic Regression + K-Means clustering pipeline in MATLAB achieving
          96.49% accuracy on a 569-patient dataset. Applied PCA for dimensionality
          reduction to improve feature interpretability and model efficiency for
          benign vs. malignant classification.
        </div>
        <div class="project-tech">
          <span class="tech-tag">MATLAB</span>
          <span class="tech-tag">Logistic Regression</span>
          <span class="tech-tag">K-Means</span>
          <span class="tech-tag">PCA</span>
          <span class="tech-tag">96.49% Accuracy</span>
        </div>
      </div>
    </div>

    <!-- Microneedle (single image) -->
    <div class="project-card" data-cats="biomedical">
      <div class="project-image">
        <img src="images/MNpicture.png" alt="Microneedle Biosensor Platform" class="single-img">
        <div class="project-overlay"></div>
        <div class="project-cats">
          <span class="project-cat">Research</span>
          <span class="project-cat">Microfab</span>
        </div>
      </div>
      <div class="project-body">
        <div class="project-title">Microneedle Biosensor Platform — NBE Lab</div>
        <div class="project-desc">
          Clinical-grade microneedle array biosensors for continuous biomarker monitoring.
          This work contributed to co-authorship in ACS Sensors (2026), spanning the full
          pipeline from sputtering and microfabrication through electrochemical
          characterization and Bluetooth wireless readout.
        </div>
        <div class="project-tech">
          <span class="tech-tag">Sputtering</span>
          <span class="tech-tag">Amperometry</span>
          <span class="tech-tag">SWV</span>
          <span class="tech-tag">Python BT</span>
          <span class="tech-tag">ACS Published</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ═══════════════ BIOMEDICAL TAB ═══════════════ -->
  <div class="project-panel" id="panel-biomedical">
    <div class="project-card">
      <div class="project-image">
        <img src="images/legoeeg.png" alt="LegoEEG" class="single-img">
        <div class="project-overlay"></div>
        <div class="project-cats"><span class="project-cat">PCB Design</span></div>
      </div>
      <div class="project-body">
        <div class="project-title">"LegoEEG" Modular EEG Headset</div>
        <div class="project-desc">Custom Altium PCBs, PEDOT:PSS–PVA hydrogel electrodes, and full electrical subsystem lead.</div>
        <div class="project-tech"><span class="tech-tag">Altium</span><span class="tech-tag">Analog Front-End</span><span class="tech-tag">PCB Layout</span></div>
      </div>
    </div>
    <div class="project-card">
      <div class="project-image img-slideshow" data-slideshow>
        <img src="images/emghand_3dmodel.png"                alt="EMG Hand 3D Model"     class="slide active">
        <img src="images/emghand_actualemghand+circuit.png"  alt="EMG Hand with Circuit" class="slide">
        <img src="images/emghand_circuit.png"                alt="EMG Circuit"           class="slide">
        <div class="slide-counter">1 / 3</div>
        <div class="slide-ui">
          <button class="slide-pause" aria-label="Pause slideshow">⏸</button>
          <div class="slide-dots">
            <span class="slide-dot active"></span>
            <span class="slide-dot"></span>
            <span class="slide-dot"></span>
          </div>
        </div>
        <div class="project-overlay"></div>
        <div class="project-cats"><span class="project-cat">Hardware</span></div>
      </div>
      <div class="project-body">
        <div class="project-title">EMG-Controlled Prosthetic Hand</div>
        <div class="project-desc">Real-time EMG signal processing with AD622, servo actuation, and Arduino firmware.</div>
        <div class="project-tech"><span class="tech-tag">EMG</span><span class="tech-tag">AD622</span><span class="tech-tag">Arduino</span></div>
      </div>
    </div>
    <div class="project-card">
      <div class="project-image">
        <img src="images/ecg-ppg.png" alt="ECG PPG System" class="single-img">
        <div class="project-overlay"></div>
        <div class="project-cats"><span class="project-cat">DSP</span></div>
      </div>
      <div class="project-body">
        <div class="project-title">ECG + PPG Multi-Signal System</div>
        <div class="project-desc">Synchronized cardiac and perfusion signal acquisition with an advanced MATLAB DSP pipeline.</div>
        <div class="project-tech"><span class="tech-tag">MATLAB</span><span class="tech-tag">Butterworth</span><span class="tech-tag">AD8232</span></div>
      </div>
    </div>
  </div>

  <!-- ═══════════════ ROBOTICS TAB ═══════════════ -->
  <div class="project-panel" id="panel-robotics">
    <div class="project-card project-highlight">
      <div class="project-image" style="min-height:300px;">
        <img src="images/autonomous-vehicle.png" alt="Autonomous Vehicle" class="single-img">
        <div class="project-overlay"></div>
        <div class="project-cats"><span class="project-cat">Robotics</span><span class="project-cat">ROS2</span></div>
      </div>
      <div class="project-body">
        <div class="project-title">Autonomous Vehicle — Jetson Nano + ROS2 + ML</div>
        <div class="project-desc">Fully autonomous scale vehicle. Designed the system, implemented the ROS2 stack, OpenCV perception, and ML control. Currently teaching this exact course to 60+ students as TA under Dr. Jack Silberman.</div>
        <div class="project-tech"><span class="tech-tag">ROS2</span><span class="tech-tag">Jetson Nano</span><span class="tech-tag">OpenCV</span><span class="tech-tag">Docker</span><span class="tech-tag">Embedded Linux</span></div>
      </div>
    </div>
  </div>

  <!-- ═══════════════ HARDWARE TAB ═══════════════ -->
  <div class="project-panel" id="panel-hardware">
    <div class="project-card">
      <div class="project-image">
        <img src="images/legoeeg.png" alt="LegoEEG PCB" class="single-img">
        <div class="project-overlay"></div>
        <div class="project-cats"><span class="project-cat">PCB</span></div>
      </div>
      <div class="project-body">
        <div class="project-title">"LegoEEG" Modular EEG Headset</div>
        <div class="project-desc">End-to-end PCB design in Altium. Analog front-end, noise-aware routing, and electrode–skin impedance characterization.</div>
        <div class="project-tech"><span class="tech-tag">Altium</span><span class="tech-tag">PCB Layout</span><span class="tech-tag">Low-Noise Amp</span></div>
      </div>
    </div>
    <div class="project-card">
      <div class="project-image img-slideshow" data-slideshow>
        <img src="images/emghand_3dmodel.png"                alt="EMG Hand 3D Model"     class="slide active">
        <img src="images/emghand_actualemghand+circuit.png"  alt="EMG Hand with Circuit" class="slide">
        <img src="images/emghand_circuit.png"                alt="EMG Circuit"           class="slide">
        <div class="slide-counter">1 / 3</div>
        <div class="slide-ui">
          <button class="slide-pause" aria-label="Pause slideshow">⏸</button>
          <div class="slide-dots">
            <span class="slide-dot active"></span>
            <span class="slide-dot"></span>
            <span class="slide-dot"></span>
          </div>
        </div>
        <div class="project-overlay"></div>
        <div class="project-cats"><span class="project-cat">Hardware</span></div>
      </div>
      <div class="project-body">
        <div class="project-title">EMG Prosthetic Hand</div>
        <div class="project-desc">Analog signal chain design, LM741/AD622 instrumentation amplifiers, Arduino firmware, and 3D-printed mechanics.</div>
        <div class="project-tech"><span class="tech-tag">LM741</span><span class="tech-tag">AD622</span><span class="tech-tag">3D Print</span></div>
      </div>
    </div>
  </div>

  <!-- ═══════════════ ML TAB ═══════════════ -->
  <div class="project-panel" id="panel-ml">
    <div class="project-card project-highlight">
      <div class="project-image img-slideshow" data-slideshow style="min-height:300px;">
        <img src="images/mlproject_accruacyvsnumberofPCAcomponents_trainingset.png" alt="ML Accuracy vs PCA Components"             class="slide active">
        <img src="images/mlproject_kmeansclusterfortestingset.png"                  alt="K-Means Cluster Testing Set"              class="slide">
        <img src="images/mlproject_principalcomponent1vs2.png"                     alt="Principal Component 1 vs 2"               class="slide">
        <img src="images/mlproject_varianceexplainedvsprincipalcomponents.png"     alt="Variance Explained vs Principal Components" class="slide">
        <div class="slide-counter">1 / 4</div>
        <div class="slide-ui">
          <button class="slide-pause" aria-label="Pause slideshow">⏸</button>
          <div class="slide-dots">
            <span class="slide-dot active"></span>
            <span class="slide-dot"></span>
            <span class="slide-dot"></span>
            <span class="slide-dot"></span>
          </div>
        </div>
        <div class="project-overlay"></div>
        <div class="project-cats"><span class="project-cat">ML</span><span class="project-cat">Healthcare</span></div>
      </div>
      <div class="project-body">
        <div class="project-title">Breast Cancer Diagnostics — ML Pipeline</div>
        <div class="project-desc">96.49% accuracy on a 569-patient dataset using Logistic Regression, K-Means, and PCA in MATLAB. Applied dimensionality reduction for feature interpretability in clinical classification tasks.</div>
        <div class="project-tech"><span class="tech-tag">MATLAB</span><span class="tech-tag">PCA</span><span class="tech-tag">Logistic Regression</span><span class="tech-tag">K-Means</span></div>
      </div>
    </div>
  </div>
</section>

<!-- SKILLS -->
<section id="skills">
  <div class="section-header reveal">
    <div class="section-eyebrow">05 / Skills</div>
    <h2 class="section-title">A stack that spans<br><span class="muted">every engineering layer.</span></h2>
  </div>
  <div class="skills-layout">
    <div>
      <div class="skill-domain reveal">
        <div class="skill-domain-title">Programming Languages</div>
        <div class="skill-bar-group">
          <div class="skill-bar-item">
            <div class="skill-bar-meta">
              <span class="skill-bar-name">Python</span>
              <span class="skill-bar-level">Advanced</span>
            </div>
            <div class="skill-bar-track"><div class="skill-bar-fill" data-width="92"></div></div>
          </div>
          <div class="skill-bar-item">
            <div class="skill-bar-meta">
              <span class="skill-bar-name">MATLAB</span>
              <span class="skill-bar-level">Advanced</span>
            </div>
            <div class="skill-bar-track"><div class="skill-bar-fill" data-width="88"></div></div>
          </div>
          <div class="skill-bar-item">
            <div class="skill-bar-meta">
              <span class="skill-bar-name">C++</span>
              <span class="skill-bar-level">Proficient</span>
            </div>
            <div class="skill-bar-track"><div class="skill-bar-fill" data-width="72"></div></div>
          </div>
        </div>
      </div>

      <div class="skill-domain reveal">
        <div class="skill-domain-title">Frameworks &amp; Software</div>
        <div class="tech-cloud">
          <span class="tech-chip">ROS/ROS2</span>
          <span class="tech-chip">Docker</span>
          <span class="tech-chip">OpenCV</span>
          <span class="tech-chip">SLAM</span>
          <span class="tech-chip">TensorFlow</span>
          <span class="tech-chip">PyTorch</span>
          <span class="tech-chip">Scikit-Learn</span>
          <span class="tech-chip">OpenSIM</span>
          <span class="tech-chip">Altium Designer</span>
          <span class="tech-chip">SOLIDWORKS</span>
          <span class="tech-chip">AutoCAD</span>
          <span class="tech-chip">LabVIEW</span>
          <span class="tech-chip">PSpice</span>
          <span class="tech-chip">Arduino IDE</span>
          <span class="tech-chip">PSTrace</span>
        </div>
      </div>

      <div class="skill-domain reveal">
        <div class="skill-domain-title">Signal Processing</div>
        <div class="skill-bar-group">
          <div class="skill-bar-item">
            <div class="skill-bar-meta"><span class="skill-bar-name">Analog/Digital Signal Processing</span><span class="skill-bar-level">Advanced</span></div>
            <div class="skill-bar-track"><div class="skill-bar-fill accent3" data-width="90"></div></div>
          </div>
          <div class="skill-bar-item">
            <div class="skill-bar-meta"><span class="skill-bar-name">Electrochemical Methods</span><span class="skill-bar-level">Advanced</span></div>
            <div class="skill-bar-track"><div class="skill-bar-fill accent3" data-width="85"></div></div>
          </div>
          <div class="skill-bar-item">
            <div class="skill-bar-meta"><span class="skill-bar-name">Biomedical Sensor Design</span><span class="skill-bar-level">Advanced</span></div>
            <div class="skill-bar-track"><div class="skill-bar-fill accent3" data-width="88"></div></div>
          </div>
        </div>
      </div>
    </div>

    <div>
      <div class="skill-domain reveal">
        <div class="skill-domain-title">Hardware &amp; Fabrication</div>
        <div class="tech-cloud">
          <span class="tech-chip hardware">PCB Design (Altium)</span>
          <span class="tech-chip hardware">Circuit Design</span>
          <span class="tech-chip hardware">InAmp: AD622, AD8232, LM741</span>
          <span class="tech-chip hardware">Jetson Nano</span>
          <span class="tech-chip hardware">Arduino Mega 2560</span>
          <span class="tech-chip hardware">Raspberry Pi 5</span>
          <span class="tech-chip hardware">ESP32/ESP-C3</span>
          <span class="tech-chip hardware">Microfabrication</span>
          <span class="tech-chip hardware">Sputtering (Denton 365)</span>
          <span class="tech-chip hardware">PID Control</span>
          <span class="tech-chip hardware">3D Printing</span>
          <span class="tech-chip hardware">SMD Soldering</span>
        </div>
      </div>

      <div class="skill-domain reveal">
        <div class="skill-domain-title">Biomedical Techniques</div>
        <div class="tech-cloud">
          <span class="tech-chip hardware">Amperometry</span>
          <span class="tech-chip hardware">Square-Wave Voltammetry</span>
          <span class="tech-chip hardware">Microneedle Array Fabrication</span>
          <span class="tech-chip hardware">PEDOT:PSS–PVA Hydrogel</span>
          <span class="tech-chip hardware">Electrode–Skin Impedance</span>
          <span class="tech-chip hardware">Bluetooth Sensor Integration</span>
          <span class="tech-chip hardware">Potentiostat Operations</span>
        </div>
      </div>

      <div class="skill-domain reveal">
        <div class="skill-domain-title">Robotics &amp; Autonomy</div>
        <div class="skill-bar-group">
          <div class="skill-bar-item">
            <div class="skill-bar-meta"><span class="skill-bar-name">ROS2 / Embedded Linux</span><span class="skill-bar-level">Advanced</span></div>
            <div class="skill-bar-track"><div class="skill-bar-fill" data-width="85"></div></div>
          </div>
          <div class="skill-bar-item">
            <div class="skill-bar-meta"><span class="skill-bar-name">Computer Vision (OpenCV)</span><span class="skill-bar-level">Proficient</span></div>
            <div class="skill-bar-track"><div class="skill-bar-fill" data-width="78"></div></div>
          </div>
          <div class="skill-bar-item">
            <div class="skill-bar-meta"><span class="skill-bar-name">ML / Deep Learning</span><span class="skill-bar-level">Proficient</span></div>
            <div class="skill-bar-track"><div class="skill-bar-fill" data-width="74"></div></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- EXPERIENCE -->
<section id="experience">
  <div class="section-header reveal">
    <div class="section-eyebrow">06 / Experience</div>
    <h2 class="section-title">Teaching what <span class="muted">I build,</span><br>building what I teach.</h2>
  </div>
  <div class="timeline">
    <div class="timeline-item">
      <div class="timeline-dot"></div>
      <div class="timeline-meta">
        <span class="timeline-period">Jul 2025 – Present</span>
        <span class="timeline-type">Teaching</span>
      </div>
      <div class="timeline-role">Teaching Assistant</div>
      <div class="timeline-org">Intro to Autonomous Vehicles (ECE/MAE 148) · UC San Diego</div>
      <ul class="timeline-bullets">
        <li>Supporting 50+ students (Winter 2026: 60+ under Dr. Jack Silberman) in ROS/ROS2, computer vision, ML, and embedded systems</li>
        <li>Approximately 20 hrs/week of hands-on lab instruction, technical debugging, and project guidance</li>
        <li>Developed and maintained step-by-step course documentation for hardware integration workflows</li>
        <li>Collaborated with faculty to refine lectures and curriculum incorporating new hardware platforms</li>
      </ul>
    </div>
    <div class="timeline-item">
      <div class="timeline-dot"></div>
      <div class="timeline-meta">
        <span class="timeline-period">May 2025 – Present</span>
        <span class="timeline-type">Research</span>
      </div>
      <div class="timeline-role">Research Assistant</div>
      <div class="timeline-org">NanoBioElectronic Lab · PI: Dr. Joseph Wang · UC San Diego</div>
      <ul class="timeline-bullets">
        <li>Fabricating microneedle arrays for continuous glucose, lactate, and cortisol monitoring</li>
        <li>Integrating electrochemical sensors with biocompatible substrates and wireless readout systems</li>
        <li>Co-authored paper published in ACS Sensors (2026, IF ≈ 8.9)</li>
      </ul>
    </div>
    <div class="timeline-item">
      <div class="timeline-dot" style="background:var(--accent3);box-shadow:0 0 10px var(--accent3);"></div>
      <div class="timeline-meta">
        <span class="timeline-period">Dec 2024 – Dec 2025</span>
        <span class="timeline-type">Leadership</span>
      </div>
      <div class="timeline-role">Executive Board Member</div>
      <div class="timeline-org">Phi Gamma Delta · UC San Diego</div>
      <ul class="timeline-bullets">
        <li>Managed communications among members, alumni, and the national organization</li>
        <li>Organized alumni networking events that facilitated internship and job placements for members</li>
        <li>Co-led community service with nonprofit Ocean Connectors (USS Midway cleanup, San Diego Bay)</li>
      </ul>
    </div>
    <div class="timeline-item">
      <div class="timeline-dot" style="background:var(--green);box-shadow:0 0 10px var(--green);"></div>
      <div class="timeline-meta">
        <span class="timeline-period">Sept 2023 – Present</span>
        <span class="timeline-type">Extracurricular</span>
      </div>
      <div class="timeline-role">Biomedical Engineering Society</div>
      <div class="timeline-org">BMES · UC San Diego</div>
      <ul class="timeline-bullets">
        <li>Design hands-on device projects and lead twice-per-quarter technical workshops covering circuits, programming, and hardware integration</li>
        <li>Produce step-by-step project documentation accessible to students of all experience levels</li>
        <li>Mentor underclassmen on coursework, research opportunities, and faculty engagement through the BMES mentorship program</li>
      </ul>
    </div>
  </div>
</section>

<!-- EDUCATION -->
<section id="education">
  <div class="section-header reveal">
    <div class="section-eyebrow">07 / Education</div>
    <h2 class="section-title">UC San Diego<span class="muted"> · </span>Jacobs<br>School of Engineering.</h2>
  </div>
  <div class="edu-cards reveal">
    <div class="edu-card">
      <div class="edu-degree">Incoming · Fall 2026</div>
      <div class="edu-title">M.S. in Electrical Engineering</div>
      <div class="edu-school">UC San Diego — Jacobs School of Engineering</div>
      <div class="edu-details">
        <div class="edu-detail"><span class="edu-key">Start</span> Fall 2026</div>
        <div class="edu-detail"><span class="edu-key">Focus</span> Electrical Engineering</div>
        <div class="edu-detail"><span class="edu-key">School</span> Jacobs School of Engineering</div>
      </div>
    </div>
    <div class="edu-card">
      <div class="edu-degree">In Progress · B.S.</div>
      <div class="edu-title">Bioengineering: Biosystems</div>
      <div class="edu-school">UC San Diego — Jacobs School of Engineering · Sept 2022 – Present</div>
      <div class="edu-details">
        <div class="edu-detail"><span class="edu-key">GPA</span> 3.4 Overall · 3.9 Major</div>
        <div class="edu-detail"><span class="edu-key">Honors</span> Provost Honors — 8 consecutive quarters</div>
        <div class="edu-detail"><span class="edu-key">Courses</span> Analog Design, Circuits &amp; Systems, Linear Systems, Biomedical Signals, Modeling &amp; Computation, Autonomous Vehicles</div>
      </div>
    </div>
  </div>
</section>

<!-- CONTACT ─── TASK 2: Real form with Formspree + success state -->
<section id="contact">
  <div class="contact-layout">
    <div class="reveal">
      <div class="section-eyebrow">08 / Contact</div>
      <div class="contact-big">
        Let's build<br>something <span class="hl">real.</span>
      </div>
      <p class="contact-desc">
        Open to research collaborations, internships, and full-time opportunities
        in biomedical engineering, embedded systems, and autonomous systems.
        Email or LinkedIn is the best way to reach me.
      </p>
      <div class="contact-links">
        <a href="mailto:joseAcastillo2024@outlook.com" class="contact-link">
          <div class="contact-link-icon">✉</div>
          <div class="contact-link-meta">
            <span class="contact-link-label">Email</span>
            <span class="contact-link-value">joseAcastillo2024@outlook.com</span>
          </div>
          <div class="contact-link-arrow">→</div>
        </a>
        <a href="https://www.linkedin.com/in/josecv04" class="contact-link" target="_blank">
          <div class="contact-link-icon">in</div>
          <div class="contact-link-meta">
            <span class="contact-link-label">LinkedIn</span>
            <span class="contact-link-value">linkedin.com/in/josecv04</span>
          </div>
          <div class="contact-link-arrow">→</div>
        </a>
        <a href="https://github.com/josecv04" class="contact-link" target="_blank">
          <div class="contact-link-icon">GH</div>
          <div class="contact-link-meta">
            <span class="contact-link-label">GitHub</span>
            <span class="contact-link-value">github.com/josecv04</span>
          </div>
          <div class="contact-link-arrow">→</div>
        </a>
        <a href="resume.pdf" class="contact-link" target="_blank">
          <div class="contact-link-icon">↓</div>
          <div class="contact-link-meta">
            <span class="contact-link-label">Resume</span>
            <span class="contact-link-value">Download PDF</span>
          </div>
          <div class="contact-link-arrow">→</div>
        </a>
      </div>
    </div>

    <!-- ══ FIXED FORM ══ -->
    <div class="reveal reveal-delay-2">
      <div class="contact-form-title">Quick Message</div>
      <!--
        SETUP INSTRUCTIONS (one-time, 2 minutes):
        1. Go to https://formspree.io and create a free account.
        2. Click "New Form", give it a name (e.g. "Portfolio Contact"), set email to joseAcastillo2024@outlook.com
        3. Copy your form endpoint URL — looks like: https://formspree.io/f/xpwzyrkq
        4. Replace YOUR_FORMSPREE_ENDPOINT below with that URL.
        Free tier = 50 submissions/month, no server needed, messages go straight to your inbox.
      -->
      <form id="contact-form" action="YOUR_FORMSPREE_ENDPOINT" method="POST" novalidate>
        <!-- Hidden fields for Formspree config -->
        <input type="hidden" name="_subject" value="New message from josecv04.github.io">
        <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off">

        <div class="form-row">
          <div class="form-group">
            <label for="cf-name">Name <span style="color:var(--red)">*</span></label>
            <input id="cf-name" type="text" name="name" placeholder="Your name" required autocomplete="name">
          </div>
          <div class="form-group">
            <label for="cf-company">Company</label>
            <input id="cf-company" type="text" name="company" placeholder="Organization" autocomplete="organization">
          </div>
        </div>
        <div class="form-group">
          <label for="cf-email">Email <span style="color:var(--red)">*</span></label>
          <input id="cf-email" type="email" name="email" placeholder="your@email.com" required autocomplete="email">
        </div>
        <div class="form-group">
          <label for="cf-subject">Subject <span style="color:var(--red)">*</span></label>
          <input id="cf-subject" type="text" name="subject" placeholder="Opportunity / Collaboration / Question" required>
        </div>
        <div class="form-group">
          <label for="cf-message">Message <span style="color:var(--red)">*</span></label>
          <textarea id="cf-message" name="message" rows="6" placeholder="Tell me about the opportunity or what you'd like to collaborate on..." required></textarea>
        </div>

        <button type="submit" id="submit-btn" class="btn btn-primary btn-submit">
          <span class="btn-label">Send Message →</span>
          <span class="btn-spinner"></span>
        </button>

        <!-- Status messages shown after submission -->
        <div id="form-success" class="form-status success" role="alert" aria-live="polite">
          ✓ Message sent! I'll get back to you within 24 hours.
        </div>
        <div id="form-error" class="form-status error" role="alert" aria-live="polite">
          ✗ Something went wrong. Please try again or email me directly at joseAcastillo2024@outlook.com
        </div>
      </form>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <span class="footer-logo">Jose Castillo © 2026</span>
  <span class="footer-copy">Bioengineering · EE · Robotics · UC San Diego</span>
</footer>

<!-- ============================================================
     JAVASCRIPT
     ============================================================ -->
<script>
(function () {
  'use strict';

  /* ── DETECT MOBILE ─────────────────────────────────── */
  const isMobile = () => window.innerWidth <= 900 || 'ontouchstart' in window;

  /* ── HELPERS ────────────────────────────────────────── */
  const html = document.documentElement;

  function getAccent() {
    return getComputedStyle(html).getPropertyValue('--accent').trim();
  }

  function updatePcbColor() {
    const el = document.getElementById('cursor-pcb');
    if (el) el.style.color = getAccent();
  }

  /* ── THEME ──────────────────────────────────────────── */
  const themeBtn  = document.getElementById('theme-toggle');
  const themeIcon = document.getElementById('theme-icon');
  const ripple    = document.getElementById('theme-ripple');

  function applyTheme(theme) {
    html.setAttribute('data-theme', theme);
    themeIcon.textContent = (theme === 'dark') ? '☀' : '☽';
    localStorage.setItem('jc-theme', theme);
    updatePcbColor();
  }

  function themeTransition(e) {
    const x = e.clientX ?? window.innerWidth / 2;
    const y = e.clientY ?? window.innerHeight / 2;
    const maxR = Math.hypot(
      Math.max(x, window.innerWidth - x),
      Math.max(y, window.innerHeight - y)
    );
    const current = html.getAttribute('data-theme');
    const next = current === 'dark' ? 'light' : 'dark';
    const rippleColor = next === 'dark' ? '#080c10' : '#f7f5f0';

    ripple.style.cssText = `
      width: ${maxR * 2}px;
      height: ${maxR * 2}px;
      top: ${y}px;
      left: ${x}px;
      background: ${rippleColor};
      border-radius: 50%;
      transform: translate(-50%, -50%) scale(0);
      transition: transform 0.65s cubic-bezier(0.22, 0.61, 0.36, 1);
    `;
    requestAnimationFrame(() => {
      requestAnimationFrame(() => {
        ripple.style.transform = 'translate(-50%, -50%) scale(1)';
        setTimeout(() => {
          applyTheme(next);
          ripple.style.transition = 'none';
          ripple.style.transform  = 'translate(-50%, -50%) scale(0)';
        }, 350);
      });
    });
  }

  themeBtn.addEventListener('click', themeTransition);
  const savedTheme = localStorage.getItem('jc-theme') || 'light';
  applyTheme(savedTheme);

  /* ── NAV SCROLL ─────────────────────────────────────── */
  const navbar = document.getElementById('navbar');
  window.addEventListener('scroll', () => {
    navbar.classList.toggle('scrolled', window.scrollY > 60);
  }, { passive: true });

  /* ── SCROLL REVEAL ──────────────────────────────────── */
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        entry.target.querySelectorAll('.skill-bar-fill').forEach(bar => {
          setTimeout(() => { bar.style.width = (bar.dataset.width || 0) + '%'; }, 200);
        });
      }
    });
  }, { threshold: 0.05 });

  document.querySelectorAll('.reveal, .timeline-item').forEach(el => revealObserver.observe(el));

  /* ── SKILLS BARS ────────────────────────────────────── */
  const skillsSection = document.getElementById('skills');
  if (skillsSection) {
    new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          document.querySelectorAll('.skill-bar-fill').forEach(bar => {
            bar.style.width = (bar.dataset.width || 0) + '%';
          });
        }
      });
    }, { threshold: 0.05 }).observe(skillsSection);
  }

  /* ── TYPING EFFECT ──────────────────────────────────── */
  const roles   = ['Bioengineer', 'Circuit Designer', 'Robotics TA', 'ACS Co-Author', 'PCB Designer', 'Signal Engineer'];
  let ri = 0, ci = 0, deleting = false;
  const typedEl = document.getElementById('typed-role');

  function type() {
    if (!typedEl) return;
    const current = roles[ri];
    if (!deleting) {
      typedEl.textContent = current.slice(0, ci + 1);
      ci++;
      if (ci === current.length) {
        deleting = true;
        setTimeout(type, 1800);
        return;
      }
    } else {
      typedEl.textContent = current.slice(0, ci - 1);
      ci--;
      if (ci === 0) {
        deleting = false;
        ri = (ri + 1) % roles.length;
      }
    }
    setTimeout(type, deleting ? 60 : 90);
  }
  setTimeout(type, 1200);

  /* ── PROJECT TABS ───────────────────────────────────── */
  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.project-panel').forEach(p => p.classList.remove('active'));
      btn.classList.add('active');
      const panel = document.getElementById('panel-' + btn.dataset.tab);
      if (panel) panel.classList.add('active');
    });
  });

  /* ── DISCIPLINE PILLS ───────────────────────────────── */
  document.querySelectorAll('.discipline-pill').forEach(pill => {
    pill.addEventListener('click', () => {
      document.querySelectorAll('.discipline-pill').forEach(p => p.classList.remove('active'));
      pill.classList.add('active');
    });
  });

  /* ── IMAGE SLIDESHOWS ───────────────────────────────── */
  function initSlideshow(ss) {
    const slides   = Array.from(ss.querySelectorAll('.slide'));
    const dots     = Array.from(ss.querySelectorAll('.slide-dot'));
    const pauseBtn = ss.querySelector('.slide-pause');
    const counter  = ss.querySelector('.slide-counter');
    const total    = slides.length;
    let idx    = 0;
    let paused = false;
    let timer;

    function goTo(n) {
      slides[idx].classList.remove('active');
      if (dots[idx]) dots[idx].classList.remove('active');
      idx = (n + total) % total;
      slides[idx].classList.add('active');
      if (dots[idx]) dots[idx].classList.add('active');
      if (counter) counter.textContent = (idx + 1) + ' / ' + total;
    }

    function startTimer() {
      clearInterval(timer);
      timer = setInterval(() => { if (!paused) goTo(idx + 1); }, 3600);
    }

    if (pauseBtn) {
      pauseBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        paused = !paused;
        pauseBtn.textContent = paused ? '▶' : '⏸';
        pauseBtn.setAttribute('aria-label', paused ? 'Resume slideshow' : 'Pause slideshow');
      });
    }

    dots.forEach((dot, i) => {
      dot.addEventListener('click', (e) => {
        e.stopPropagation();
        goTo(i);
      });
    });

    startTimer();
  }

  document.querySelectorAll('[data-slideshow]').forEach(initSlideshow);

  /* ═══════════════════════════════════════════════════════
     TASK 2 FIX — CONTACT FORM (Formspree AJAX submission)
     ═══════════════════════════════════════════════════════ */
  const contactForm  = document.getElementById('contact-form');
  const submitBtn    = document.getElementById('submit-btn');
  const successMsg   = document.getElementById('form-success');
  const errorMsg     = document.getElementById('form-error');

  if (contactForm) {
    contactForm.addEventListener('submit', async function (e) {
      e.preventDefault();

      /* Hide any previous status messages */
      successMsg.style.display = 'none';
      errorMsg.style.display   = 'none';

      /* Client-side validation */
      const name    = document.getElementById('cf-name').value.trim();
      const email   = document.getElementById('cf-email').value.trim();
      const subject = document.getElementById('cf-subject').value.trim();
      const message = document.getElementById('cf-message').value.trim();
      const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      if (!name || !email || !subject || !message) {
        errorMsg.textContent = '✗ Please fill in all required fields.';
        errorMsg.style.display = 'block';
        return;
      }
      if (!emailRe.test(email)) {
        errorMsg.textContent = '✗ Please enter a valid email address.';
        errorMsg.style.display = 'block';
        return;
      }

      /* Check Formspree endpoint is configured */
      const action = contactForm.getAttribute('action') || '';
      if (!action || action === 'YOUR_FORMSPREE_ENDPOINT') {
        /* Fallback: open mailto with prefilled fields if Formspree not set up yet */
        const body = encodeURIComponent(
          'Name: ' + name + '\n' +
          'Company: ' + (document.getElementById('cf-company').value.trim() || 'N/A') + '\n' +
          'Email: ' + email + '\n\n' +
          message
        );
        const sub = encodeURIComponent(subject);
        window.open('mailto:joseAcastillo2024@outlook.com?subject=' + sub + '&body=' + body);
        successMsg.textContent = '✓ Opening your email client with the message pre-filled.';
        successMsg.style.display = 'block';
        return;
      }

      /* Show loading state */
      submitBtn.classList.add('loading');
      submitBtn.disabled = true;

      try {
        const formData = new FormData(contactForm);
        const response = await fetch(action, {
          method: 'POST',
          body: formData,
          headers: { 'Accept': 'application/json' }
        });

        if (response.ok) {
          /* SUCCESS */
          contactForm.reset();
          successMsg.textContent = '✓ Message sent! I\'ll get back to you within 24 hours.';
          successMsg.style.display = 'block';
          /* Scroll status into view */
          successMsg.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        } else {
          /* Parse Formspree error if available */
          let errDetail = '';
          try {
            const data = await response.json();
            if (data.errors) {
              errDetail = ' (' + data.errors.map(err => err.message).join(', ') + ')';
            }
          } catch (_) { /* ignore */ }
          throw new Error('Server responded with ' + response.status + errDetail);
        }
      } catch (err) {
        console.error('Form submission error:', err);
        errorMsg.textContent = '✗ Something went wrong. Please email me directly at joseAcastillo2024@outlook.com';
        errorMsg.style.display = 'block';
        errorMsg.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      } finally {
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;
      }
    });
  }

  /* ── CURSORS (desktop only) ──────────────────────────── */
  if (isMobile()) return;

  const cursorPro = document.getElementById('cursor-pro');
  const cursorPcb = document.getElementById('cursor-pcb');
  const pcbSvg    = document.getElementById('pcb-svg');
  const btnPro    = document.getElementById('btn-cursor-pro');
  const btnPcb    = document.getElementById('btn-cursor-pcb');

  let cursorMode = 'pro';
  let pcbRotation = 0;
  let pcbRotDir   = 1;
  let lastMouseX  = -300;

  function showCursor(mode) {
    cursorMode = mode;
    if (mode === 'pro') {
      cursorPro.style.display = 'block';
      cursorPcb.style.display = 'none';
    } else {
      cursorPro.style.display = 'none';
      cursorPcb.style.display = 'block';
    }
    html.setAttribute('data-cursor', mode);
    btnPro.classList.toggle('active', mode === 'pro');
    btnPro.setAttribute('aria-pressed', String(mode === 'pro'));
    btnPcb.classList.toggle('active', mode === 'pcb');
    btnPcb.setAttribute('aria-pressed', String(mode === 'pcb'));
  }

  btnPro.addEventListener('click', () => showCursor('pro'));
  btnPcb.addEventListener('click', () => showCursor('pcb'));
  showCursor('pro');
  updatePcbColor();

  /* Mouse tracking */
  document.addEventListener('mousemove', (e) => {
    if (e.clientX > lastMouseX) pcbRotDir = 1;
    else if (e.clientX < lastMouseX) pcbRotDir = -1;
    lastMouseX = e.clientX;

    cursorPro.style.left = e.clientX + 'px';
    cursorPro.style.top  = e.clientY + 'px';
    cursorPcb.style.left = e.clientX + 'px';
    cursorPcb.style.top  = e.clientY + 'px';
  });

  /* PCB slow rotation loop */
  function animatePcb() {
    pcbRotation += 0.4 * pcbRotDir;
    if (pcbSvg) pcbSvg.style.transform = `rotate(${pcbRotation}deg)`;
    requestAnimationFrame(animatePcb);
  }
  animatePcb();

  /* Hover states */
  const INTERACTORS = 'a, button, .tab-btn, .discipline-pill, .marker, .project-card, .contact-link, .tech-chip, .cursor-btn, .theme-toggle';

  document.addEventListener('mouseover', (e) => {
    if (e.target.closest(INTERACTORS)) document.body.classList.add('cursor-hover');
  });
  document.addEventListener('mouseout', (e) => {
    if (e.target.closest(INTERACTORS)) document.body.classList.remove('cursor-hover');
  });

  /* Keep PCB color in sync with theme changes */
  new MutationObserver(updatePcbColor).observe(html, {
    attributes: true, attributeFilter: ['data-theme']
  });

})();
</script>
</body>
</html>
